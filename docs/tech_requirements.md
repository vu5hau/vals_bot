
# 1. Мэта праекта
Мэта праекта — распрацаваць Telegram-бот(далей бот) для пошуку партнёраў на выпусны вальс Ліцэя БДУ для ліцэістаў.У боце Ліцэісты могуць даведвацца апошнія навіны наконт балу, рэгістравацца, ствараць і рэдагаваць свае профілі, адзначаць падабайкамі партнёраў, якія ім даспадобы, і атрымліваць спіс сваіх уласных "узаемных падабаек". 

# 2. Апісанне сістэмы

Сістэма складаецца з наступных функыянальных блокаў:
1. Рэгістрацыя, аўнтыфікацыя і аўтарызацыя
2. Функцыянал разделаў карыстальніка
3. Функцыянал выбару партнёраў(націскання падабаек)
4. Функцыянал прагляду і змены даных профіля
5. Функцыянал адкрытага/зачыненага профілю
6. Функцыянал дадавання адмінаў
7. Функцыянал верыфікацыі адміністратарамі
8. Функцыянал змены навін і дасылання паведамленняў усім карыстальнікам
9. Функцыянал атрымання фотаздымкаў з Google Drive 

## 2.1 Тыпы карыстальнікаў і іх шляхі ўзаемадзення з сістэмай
У сістэме існуе два віда карыстальнікаў: Госць і Зарэгістраваны карыстальнік. Госць можа даведвацца апошнія навіны ў спецыяльным разделе, пісаць адмінам, а таксама атрымлівае паведамленні ад адміністратараў карыстальнікам. Зарэгістраваны карыстальнік мае функцыянал Госця, а таксама магчымасць змяняць свой профіль, адчыняць/зачыняць профіль, адзначаць партнёраў падабайкамі, атрымліваць спіс узаемных падабаек.

У ніжняй клавіятуры Госць мае наступныя раздзелы:
- Рэгістрацыя
- Інфармацыя

У ніжняй клавіятуры Зарэгістраваны карыстальнік мае наступныя раздзелы:
- Інфармацыя
- Пошук партнёраў
- Профіль
- Спіс узаемных падабаек
- Зачыніць/адчыніць профіль
- Дапамога(інфармацыйны блок з кантактамі)

## 2.2 Рэгістрацыя
Рэгістрацыя адбываецца адразу падчас далучэння да боту. Першапачаткова кожны карыстальнік - Госць. На адзін telegram-акаўнт магчыма адна рэгістрацыя.

Рэгістрацыя адбываецца праз узаемадзенне з ботам пасля націскання на кнопку суадноснага раздзелу "Рэгістрацыя". У БД кожны карыстальнік мае наступныя палі:

- id_telegram — **абавязковае поле**(атрымліваецца аўтаматычна)
- id_local  — **абавязковае поле**(атрымліваецца аўтаматычна)
- статус акаўнту — **абавязковае поле**(атрымліваецца аўтаматычна, першапачаткова - зачынены)
- імя — апцыянальнае поле
- прозвішча  — апцыянальнае поле
- фота  — апцыянальнае поле
- статус  — апцыянальнае поле
- спасылка для сувязі  — апцыянальнае поле
- нумар ліцэйскага білету - апцыянальнае поле
- палавая прыналежнасць - апцыянальнае поле
 

## 2.3 Аўнтыфікацыя і аўтарызацыя Зарэгістраванага карыстальніка
Аўнтыфікацыя адбываецца часткова аўтаматычна, часткова адмінамі.

Першапачаткова ўсе даныя праходзяць праз валідатар(імя без лічбаў, нумар ліцэйскага білету ёсць у спісе). **Кожнаму карыстальніку трэба зрабіць фотаздымак з сецыяльным знак, як у каршерінгах. **

Далей даныя правярае адміністратар, карыстаючыся спецыяльным раздзелам. Пры ўмове, што ўсё добра, статус акаўнту змяняецца на адкрыты, карыстальнік атрымлівае паведамленне пра поспех. Інакш адмін дасылае паведамленне карыстальніку, што з яго акаўнтам не так.

## 2.4 Функцыянал Зарэгістраванага карыстальніка
Зарэгістраваны карыстальнік можа:
1. Рэдагаваць профіль
2. Ставіць падабайкі партнёрам
3. Праглядаць спіс узаемных падабаек(атрымліваць спасылкі для сувязі)
4. Адкрываць/зачыняць профіль 

## 2.4.1 Прагляду і рэдагаванне профілю
У гэтым раздзеле карыстальнік можа паглядзець, як выглядае  змяніць усе палі, якія ён уводзіў падчас рэгістрацыі. Пасля гэтага акаўнт зноў пераходзіць у статус зачыненага і чакае верыфікацыі.

## 2.4.2 Прагляд партнёраў і націсканне падабаек
У гэтым раздзеле карыстальнік праглядае варыянты партнёраў, ставіць падабайкі альбо мінае прапанаванага чалавека. Карыстальнік бачыць профіль партнёра: Імя, Прозвішча, Фота, Статус. **Спасылка для сувязі не бачна**

## 2.4.3 Прагляд спісу ўзаемных падабаек
У гэтым раздзеле карыстальнік атрымлівае спіс усіх, з кім у яго узаемныя падабайкі. Таксама ён бачыць іх кантакты.

## 2.4.4 Функцыянал адчыніць/зачыніць профіль
У гэтым раздзеле карыстальнік можа зачыніць свой профіль, калі ён знайшоў партнёра, а таксама адчыніць пасля мадэрацыі. Зачынне вядзе да знікнення профілю з базы і дызактывацыі функцыі пошуку.

## 2.4.5 Функцыянал дадавання адмінаў
Дадаванне адбываецца праз спецыяльную каманду ад super-admin, які вызначаецца ў кодзе праз list telegram_id

## 2.4.6 Функцыянал верыфікацыі адмінамі
Адбываецца праз адмінскую кансоль. Падчас верыфікацыі выпадае акаўнт чалавека, які раней падаў заяўку. Адмін бачыць усе палі, якія ўводзіў карыстальнік падчас рэгістрацыі, яго фотаздымак і фотаздымак, які мы атрымліваем праз Google Drive па нумару ліцэйскага білета.

## 2.4.7 Функцыянал змены навін і дасылання паведамленняў усім карыстальнікам
Адбываецца праз каманду ад адмінаў. Звесткі атрымліваюцца і запісваюцца ў аднаімены txt.

## 2.4.8 Функцыянал атрымання фотаздымкаў з Google Drive 
Патрэбен падчас верыфікацыі карыстальнікаў адмінамі. Уяўляе сабой скрыпт, які, ведаючы пароль і нікнейм, заходзіць у спецыяльную папку на Google Drive і па нумару часова спампоўвае і потым дасылае адміну фотаздымак.


# 3. Прыблізны шлях узаемадзення з ботам
1. Карыстальнік першы раз у жыцці завітвае ў бота. 
2. Атрымлівае інфармацыйны ліст наконт магчымасцяў боту.
3. Яму ў клавіятуры прапаноўваецца Рэгістрацыя і Інфармацыя
4. Ён рэгіструецца
5. Яму паведамляецца, што пакуль яго акаўнт на верыфікацыі
6. Карыстальнік чакае верыфікацыі
7. Калі праходзіць, яму прыходзіць паведамленне наконт таго, што яму трэба адчыніць свой профіль
8. Потым ён можа ціснуць падабайкі прапанаваным партнёрам(*магчыма, іх колькасць трэба абмежаваць*)
9. Атрымліваць спіс партнёраў
10. Зачыніць профіль

# 4. Імаверныя тэхналогіі распрацоўкі
Мы плануем выкарыстоўваць:
- python3
- telebot 
- sqlite3
- request(python)
- google drive



# 5. Дызайн
Прапаноўваецца выкарыстоўваць абодва варыянты кнопак. Тыя, што знаходзяцца ў спецыяльнай клавіятуры знізу, для розных раздзелаў(Сувязь з адмінамі, Рэгістрацыя, Пошук партнёраў, Мой спіс узаемных падабаек і г.д.) і тыя, што "далучаюцца" да паведамлення(падчас пошуку партнёраў, падчас рэгістрацыі, змены профілю).


 
